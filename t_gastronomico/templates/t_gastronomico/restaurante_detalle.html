{% extends "base_pagina.html" %}

{% block titulo %}Detalle restaurante{% endblock titulo %}

{% block contenido %}
<!-- Open Content -->
<section class="bg-light">
    <div class="container pb-5">
        <div class="row">
            <div class="col-lg-5 mt-5">
                <div class="card mb-3">
                    <img class="card-img img-fluid" src="{{ restaurante.foto.url }}" alt="Card image cap" id="product-detail">
                </div>
                <div class="row">
                    <!--Start Controls-->
                    <div class="col-1 align-self-center">
                        <a href="#multi-item-example" role="button" data-bs-slide="prev">
                            <i class="text-dark fas fa-chevron-left"></i>
                            <span class="sr-only">Previous</span>
                        </a>
                    </div>
                    <!--End Controls-->
                    <!--Start Carousel Wrapper-->
                    <div id="multi-item-example" class="col-10 carousel slide carousel-multi-item" data-bs-ride="carousel">
                        <!--Start Slides-->
                        <div class="carousel-inner product-links-wap" role="listbox">

                            <!--First slide-->
                            <div class="carousel-item active">
                                <div class="row">
                                    <div class="col-4">
                                        <a href="#">
                                            <img class="card-img img-fluid" src="{{ restaurante.foto.url }}" alt="Product Image 1">
                                        </a>
                                    </div>
                                    <div class="col-4">
                                        <a href="#">
                                            <img class="card-img img-fluid" src="{{ restaurante.foto.url }}" alt="Product Image 2">
                                        </a>
                                    </div>
                                    <div class="col-4">
                                        <a href="#">
                                            <img class="card-img img-fluid" src="{{ restaurante.foto.url }}" alt="Product Image 3">
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <!--/.First slide-->

                            
                        </div>
                        <!--End Slides-->
                    </div>
                    <!--End Carousel Wrapper-->
                    <!--Start Controls-->
                    <div class="col-1 align-self-center">
                        <a href="#multi-item-example" role="button" data-bs-slide="next">
                            <i class="text-dark fas fa-chevron-right"></i>
                            <span class="sr-only">Next</span>
                        </a>
                    </div>
                    <!--End Controls-->
                </div>
            </div>
            <!-- col end -->
            <div class="col-lg-7 mt-5">
                <div class="card">
                    <div class="card-body" >
                        <h1 class="h2 py-3">{{ restaurante.nombre }}</h1>
                        
                        <h6>Description:</h6>
                        <p>{{ restaurante.descripcion }}</p>

                        <h6>Direccion:</h6>
                        <p>{{ restaurante.direccion }}</p>
                        
                        <h6>Telefono:</h6>
                        <p>{{ restaurante.celular }}</p>

                        <h6>Horario de atencion:</h6>
                        <p>{{ restaurante.horario }}</p>

                        <h6>Ubicacion:</h6>
                        <div id="map" style="height: 250px; width: 100%;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Close Content -->

<!-- Start Article -->
<section class="py-5">
    <div class="container">
        <div class="row text-left p-2 pb-3">
            <h4>Menu Restaurante</h4>
        </div>

        <!--Start Carousel Wrapper-->
        <div id="carousel-related-product">
            {% for plato in plato %}
            <div class="p-2 pb-3">
                
                <div class="product-wap card rounded-0 ">
                    <div class="card rounded-0">
                        <a href="{% url 'plato_detalle' plato.id %}">
                            <img src="{{ plato.foto.url }}" class="card-img-top " alt="{{ plato.nombre }}" >
                            
                        </a>
                    </div>
                    <div class="card-body">
                        <a href="shop-single.html" class="h3 text-decoration-none">{{ plato.nombre }}</a>
                        
                        <p class="text-center mb-0">{{ plato.precio }}</p>
                    </div>
                </div>
                
            </div>
            {% endfor %}
        </div>
    </div>
    
</section>
<!-- End Article -->

<script>
    function obtenerUbicacion() {
        var ubicacion = JSON.parse('{{ restaurante.ubicacion|escapejs }}');
        var lat = ubicacion.latitud;
        var lng = ubicacion.longitud;
        var map = L.map('map').setView([lat,lng], 15);
        L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
        }).addTo(map);
        L.marker([lat, lng]).addTo(map);
    }
    obtenerUbicacion();
  </script>
  <script>
    $('#carousel-related-product').slick({
        infinite: true,
        arrows: false,
        slidesToShow: 4,
        slidesToScroll: 3,
        dots: true,
        responsive: [{
                breakpoint: 1024,
                settings: {
                    slidesToShow: 3,
                    slidesToScroll: 3
                }
            },
            {
                breakpoint: 600,
                settings: {
                    slidesToShow: 2,
                    slidesToScroll: 2
                }
            },
            {
                breakpoint: 480,
                settings: {
                    slidesToShow: 1,
                    slidesToScroll: 1
                }
            }
        ]
    });
  </script>
{% endblock contenido %}
